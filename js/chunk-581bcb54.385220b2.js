(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-581bcb54"],{b65f:function(e,t,c){var o=c("23e7"),a=Math.ceil,n=Math.floor;o({target:"Math",stat:!0},{trunc:function(e){return(e>0?n:a)(e)}})},da83:function(e,t,c){"use strict";c.r(t);c("b65f");var o=c("7a23"),a=Object(o["createElementVNode"])("section",{class:"cart-images"},null,-1),n={class:"mt-3"},r=Object(o["createStaticVNode"])('<div class="container mt-5 mb-5"><div class="row justify-content-center"><div class="col-md-2"><div class="order-step-box active"><p>STEP1</p><p>確認商品</p></div></div><div class="col-md-2"><div class="order-step-box"><p>STEP2</p><p>訂購資訊</p></div></div><div class="col-md-2"><div class="order-step-box"><p>STEP3</p><p>確認付款</p></div></div></div></div>',1),l={class:"container"},s={class:"row"},i={class:"col-md-8"},d={class:"table"},b=Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",{scope:"col",class:"border-0 ps-0"},"產品名稱"),Object(o["createElementVNode"])("th",{scope:"col",class:"border-0"},"訂購數量"),Object(o["createElementVNode"])("th",{scope:"col",class:"border-0"},"價格"),Object(o["createElementVNode"])("th",{scope:"col",class:"border-0"})])],-1),m={scope:"row",class:"border-0 px-0 font-weight-normal py-4"},p=["src","alt"],u={class:"mb-0 fw-bold ms-3 d-inline-block"},j={class:"border-0 align-middle",style:{"max-width":"160px"}},O={class:"input-group pe-5"},h=["onUpdate:modelValue","onChange"],f=["value"],v={class:"border-0 align-middle"},N={class:"mb-0 ms-auto"},g={class:"border-0 align-middle"},E=["onClick"],V=Object(o["createElementVNode"])("i",{class:"bi bi-x-lg"},null,-1),k=[V],w=Object(o["createElementVNode"])("div",{class:"input-group w-50 mb-3"},[Object(o["createElementVNode"])("div",{class:"input-group-append"},[Object(o["createElementVNode"])("button",{class:"btn btn-outline-dark border-bottom border-top-0 border-start-0 border-end-0 rounded-0",type:"button",id:"button-addon2"},[Object(o["createElementVNode"])("i",{class:"fas fa-paper-plane"})])])],-1),y={class:"col-md-4"},x={class:"border p-4 mb-4"},C=Object(o["createElementVNode"])("h4",{class:"fw-bold mb-4"},"訂單資訊",-1),L={class:"table text-muted border-bottom"},_={scope:"row",class:"border-0 px-0 mb-1 font-weight-normal"},D={class:"h6"},B=Object(o["createTextVNode"])(" 件 "),S={class:"text-end border-0 px-0 mb-1"},T={class:"d-flex"},$={class:"col"},I={class:"col-auto align-self-center"},M={class:"d-flex justify-content-between mt-4"},q=Object(o["createElementVNode"])("p",{class:"mb-0 h5 fw-bold"},"總和",-1),F={class:"mb-0 h5 fw-bold"},P={key:0,class:"mt-2 h5 text-end text-success"},U=Object(o["createTextVNode"])("下一步");function A(e,t,c,V,A,J){var H=Object(o["resolveComponent"])("Loading"),R=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(H,{active:A.isLoading},null,8,["active"]),a,Object(o["createElementVNode"])("div",n,[r,Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("table",d,[b,Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(A.carData.carts,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:t.id,class:"border-bottom border-top"},[Object(o["createElementVNode"])("th",m,[Object(o["createElementVNode"])("img",{src:t.product.imageUrl,alt:t.product.title,style:{width:"72px",height:"72px","object-fit":"cover"}},null,8,p),Object(o["createElementVNode"])("p",u,Object(o["toDisplayString"])(t.product.title),1)]),Object(o["createElementVNode"])("td",j,[Object(o["createElementVNode"])("div",O,[Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{class:"form-select","onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return J.upLoadItem(t)},panelHeight:"100"},[(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(99,(function(e,t){return Object(o["createElementVNode"])("option",{value:e,key:t},Object(o["toDisplayString"])(e),9,f)})),64))],40,h),[[o["vModelSelect"],t.qty]])])]),Object(o["createElementVNode"])("td",v,[Object(o["createElementVNode"])("p",N,"NT$"+Object(o["toDisplayString"])(e.$filters.numberAddComma(t.total)),1)]),Object(o["createElementVNode"])("td",g,[Object(o["createElementVNode"])("button",{type:"button",class:"btn",title:"移除",onClick:Object(o["withModifiers"])((function(e){return J.delItem(t.id)}),["prevent"])},k,8,E)])])})),128))])]),w]),Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("div",x,[C,Object(o["createElementVNode"])("table",L,[Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(A.carData.carts,(function(t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:t.id},[Object(o["createElementVNode"])("th",_,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.product.title)+" 共 ",1),Object(o["createElementVNode"])("span",D,Object(o["toDisplayString"])(t.qty),1),B]),Object(o["createElementVNode"])("td",S," NT$"+Object(o["toDisplayString"])(e.$filters.numberAddComma(t.total))+"元 ",1)])})),128))])]),Object(o["createElementVNode"])("div",T,[Object(o["createElementVNode"])("div",$,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control rounded-0 border-bottom-0 border-top-0 border-start-0 border-end-0 shadow-none",placeholder:"請輸入vip888-(6折)","aria-label":"Recipient's username","aria-describedby":"button-addon2","onUpdate:modelValue":t[0]||(t[0]=function(e){return A.code=e})},null,512),[[o["vModelText"],A.code]])]),Object(o["createElementVNode"])("div",I,[Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(e){return J.coupon()}),["prevent"]))}," 套用 ")])]),Object(o["createElementVNode"])("div",M,[q,Object(o["createElementVNode"])("p",F,"NT$"+Object(o["toDisplayString"])(e.$filters.numberAddComma(A.carData.total))+"元",1)]),A.isCoupon?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",P," 折扣價：NT$"+Object(o["toDisplayString"])(Math.trunc(A.carData.final_total))+"元 ",1)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(R,{to:"/checkout",class:"btn btn-dark w-100 mt-4"},{default:Object(o["withCtx"])((function(){return[U]})),_:1})])])])])])],64)}c("99af");var J=c("3d20"),H=c.n(J),R=c("ab7c"),z=H.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),G={data:function(){return{carData:[],isLoading:!1,isCoupon:!1,code:""}},methods:{getCarList:function(){var e=this;this.isLoading=!0,this.$http("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kurokawa2021","/cart")).then((function(t){e.carData=t.data.data,console.log(e.carData),e.isLoading=!1})).catch((function(e){console.log(e)}))},upLoadItem:function(e){var t=this;this.isLoading=!0;var c={product_id:e.id,qty:e.qty};this.$http.put("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kurokawa2021","/cart/").concat(e.id),{data:c}).then((function(e){console.log(e),t.getCarList(),t.isLoading=!1,z.fire({icon:"success",showClass:{popup:"animate__animated animate__fadeIn"},title:e.data.message})})).catch((function(e){console.log(e)}))},delItem:function(e){var t=this;this.isLoading=!0,this.$http.delete("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kurokawa2021","/cart/").concat(e)).then((function(e){t.isLoading=!1,R["a"].emit("get-cart"),t.getCarList(),z.fire({icon:"success",showClass:{popup:"animate__animated animate__fadeIn"},title:e.data.message})})).catch((function(e){console.log(e)}))},coupon:function(e){var t=this;e=this.code,console.log(e);var c={code:this.code};this.$http.post("".concat("https://vue3-course-api.hexschool.io","/v2/api/").concat("kurokawa2021","/coupon"),{data:c}).then((function(e){t.isCoupon=!0,z.fire({icon:"success",showClass:{popup:"animate__animated animate__fadeIn"},title:e.data.message}),t.code="",t.getCarList()})).catch((function(){z.fire({icon:"error",showClass:{popup:"animate__animated animate__fadeIn"},title:"無效的優惠碼"})}))}},mounted:function(){this.getCarList()}},K=c("6b0d"),Q=c.n(K);const W=Q()(G,[["render",A]]);t["default"]=W}}]);
//# sourceMappingURL=chunk-581bcb54.385220b2.js.map