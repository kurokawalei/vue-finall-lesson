{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/payView.vue","webpack:///./src/views/payView.vue?a738"],"names":["DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get","this","error","class","_createElementVNode","scope","_hoisted_32","_createVNode","_component_Loading","active","$data","_hoisted_1","_hoisted_4","_toDisplayString","id","_hoisted_8","_hoisted_9","user","address","_hoisted_10","email","_hoisted_11","name","_hoisted_12","tel","_hoisted_16","_createElementBlock","_Fragment","_renderList","products","item","key","product","title","qty","price","_hoisted_18","_hoisted_19","total","_hoisted_24","_hoisted_25","_hoisted_26","$options","create_at","_hoisted_27","is_paid","type","onClick","Toast","Swal","mixin","toast","position","showConfirmButton","timer","timerProgressBar","data","isLoading","orderId","orderinfo","methods","getPayinfo","$http","process","then","res","order","catch","er","console","log","getDate","time","date","Date","toLocaleDateString","payover","post","fire","icon","showClass","popup","message","mounted","$route","params","__exports__","render"],"mappings":"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","file":"js/chunk-c3412fee.9baca4e4.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"mt-3\">\r\n    <div class=\"container mt-5 mb-5\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-2\">\r\n          <div class=\"order-step-box\">\r\n            <p>STEP1</p>\r\n            <p>確認商品</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n          <div class=\"order-step-box\">\r\n            <p>STEP2</p>\r\n            <p>訂購資訊</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n          <div class=\"order-step-box active\">\r\n            <p>STEP3</p>\r\n            <p>確認付款</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container\">\r\n    <div class=\"text-center mb-5\">\r\n      <h1>\r\n        <i class=\"bi bi-check-circle-fill me-3 text-success\"></i>訂單建立成功\r\n      </h1>\r\n      <p>您的訂單編號為：{{ orderinfo.id }}</p>\r\n    </div>\r\n\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-6\">\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">聯絡人資訊</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <th scope=\"row\">地址</th>\r\n              <td>{{ orderinfo.user.address }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">聯絡信箱</th>\r\n              <td>\r\n                {{ orderinfo.user.email }}\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">姓名</th>\r\n              <td>{{ orderinfo.user.name }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">連絡電話</th>\r\n              <td>{{ orderinfo.user.tel }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row justify-content-center mt-5\">\r\n      <div class=\"col-md-6\">\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">購買項目</th>\r\n              <th scope=\"col\">件數</th>\r\n              <th scope=\"col\">單價</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <template v-for=\"item in orderinfo.products\" :key=\"item\">\r\n              <tr>\r\n                <th scope=\"row\">{{ item.product.title }}</th>\r\n                <td>{{ item.qty }}</td>\r\n                <td>NT${{ item.product.price }}元</td>\r\n              </tr>\r\n            </template>\r\n            <tr>\r\n              <th scope=\"row\" class=\"border-bottom-0\">總和(含折扣價)</th>\r\n              <td class=\"border-bottom-0\"></td>\r\n              <td class=\"border-bottom-0 text-success\">\r\n                NT${{ orderinfo.total }}元\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row justify-content-center mt-5\">\r\n      <div class=\"col-6\">\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th scope=\"col\">訂單資訊</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <th scope=\"row\">訂購編號</th>\r\n              <td>{{ orderinfo.id }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">訂購時間</th>\r\n              <td>{{ getDate(orderinfo.create_at) }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"row\">付款狀態</th>\r\n              <td>\r\n                <span class=\"text-success\" v-if=\"orderinfo.is_paid\"\r\n                  >付款完成</span\r\n                >\r\n                <span class=\"text-danger\" v-else>未付款</span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"text-center mt-3 mb-5\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-primary btn-lg\"\r\n        @click.prevent=\"payover()\"\r\n      >\r\n        我要付款<i class=\"bi bi-hand-index ms-2\"></i>\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Swal from \"sweetalert2\";\r\n\r\n//宣告toast\r\nconst Toast = Swal.mixin({\r\n  toast: true,\r\n  position: \"top-end\",\r\n  showConfirmButton: false,\r\n  timer: 3000,\r\n  timerProgressBar: true,\r\n});\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      orderId: \"\",\r\n      orderinfo: {\r\n        user: {},\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getPayinfo() {\r\n      this.isLoading = true;\r\n      //vue3-course-api.hexschool.io/v2/api/kurokawa2021/order/-MyKedeJmoIF1fuLXTma\r\n      this.$http\r\n        .get(\r\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\r\n        )\r\n        .then((res) => {\r\n          this.orderinfo = res.data.order;\r\n          //  console.log(this.orderinfo);\r\n\r\n          this.isLoading = false;\r\n        })\r\n        .catch((er) => {\r\n          console.log(er);\r\n        });\r\n    },\r\n    getDate(time) {\r\n      //時間處理\r\n      const date = new Date(time * 1000);\r\n      return date.toLocaleDateString();\r\n    },\r\n    payover() {\r\n      this.$http\r\n        .post(\r\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\r\n        )\r\n        .then((res) => {\r\n          // console.log(res.data.message);\r\n          Toast.fire({\r\n            icon: \"success\",\r\n            showClass: {\r\n              popup: \"animate__animated animate__fadeIn\",\r\n            },\r\n            title: res.data.message,\r\n          });\r\n            this.getPayinfo();\r\n          this.isLoading = false;\r\n        })\r\n        .catch((er) => {\r\n          console.log(er);\r\n        });\r\n\r\n    \r\n    },\r\n  },\r\n  mounted() {\r\n    const { id } = this.$route.params;\r\n    this.orderId = id;\r\n\r\n    // console.log( this.$route.params.id );\r\n    this.getPayinfo();\r\n  },\r\n};\r\n</script>","import { render } from \"./payView.vue?vue&type=template&id=509d15cc\"\nimport script from \"./payView.vue?vue&type=script&lang=js\"\nexport * from \"./payView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\vue-finall-lesson\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}