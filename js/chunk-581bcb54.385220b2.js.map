{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.math.trunc.js","webpack:///./src/views/cart.vue","webpack:///./src/views/cart.vue?a0e2"],"names":["$","ceil","Math","floor","target","stat","trunc","it","_createElementVNode","class","scope","style","_hoisted_20","type","id","_createVNode","_component_Loading","active","$data","_hoisted_1","_hoisted_3","_hoisted_8","_createElementBlock","_Fragment","_renderList","carts","item","src","product","imageUrl","alt","title","_toDisplayString","qty","$event","onChange","$options","panelHeight","num","i","value","key","_hoisted_15","_ctx","numberAddComma","total","onClick","_hoisted_22","_hoisted_25","placeholder","aria-label","aria-describedby","_hoisted_35","final_total","_component_router_link","to","Toast","Swal","mixin","toast","position","showConfirmButton","timer","timerProgressBar","data","carData","isLoading","isCoupon","code","methods","getCarList","this","$http","process","then","res","console","log","catch","er","upLoadItem","product_id","put","fire","icon","showClass","popup","message","delItem","delete","emitter","emit","coupon","post","mounted","__exports__","render"],"mappings":"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","file":"js/chunk-581bcb54.385220b2.js","sourcesContent":["var $ = require('../internals/export');\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n$({ target: 'Math', stat: true }, {\n  trunc: function trunc(it) {\n    return (it > 0 ? floor : ceil)(it);\n  }\n});\n","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <section class=\"cart-images\"></section>\r\n  <div class=\"mt-3\">\r\n    <div class=\"container mt-5 mb-5\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-2\">\r\n          <div class=\"order-step-box active\">\r\n            <p>STEP1</p>\r\n            <p>確認商品</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n          <div class=\"order-step-box\">\r\n            <p>STEP2</p>\r\n            <p>訂購資訊</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n          <div class=\"order-step-box\">\r\n            <p>STEP3</p>\r\n            <p>確認付款</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-8\">\r\n          <table class=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th scope=\"col\" class=\"border-0 ps-0\">產品名稱</th>\r\n                <th scope=\"col\" class=\"border-0\">訂購數量</th>\r\n                <th scope=\"col\" class=\"border-0\">價格</th>\r\n                <th scope=\"col\" class=\"border-0\"></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <template v-for=\"item in carData.carts\" :key=\"item.id\">\r\n                <tr class=\"border-bottom border-top\">\r\n                  <th scope=\"row\" class=\"border-0 px-0 font-weight-normal py-4\">\r\n                    <img\r\n                      :src=\"item.product.imageUrl\"\r\n                      :alt=\"item.product.title\"\r\n                      style=\"width: 72px; height: 72px; object-fit: cover\"\r\n                    />\r\n                    <p class=\"mb-0 fw-bold ms-3 d-inline-block\">\r\n                      {{ item.product.title }}\r\n                    </p>\r\n                  </th>\r\n                  <td class=\"border-0 align-middle\" style=\"max-width: 160px\">\r\n                    <div class=\"input-group pe-5\">\r\n                      <!-- <div class=\"input-group-prepend\">\r\n                        <button\r\n                          class=\"btn btn-outline-dark border-0 py-2\"\r\n                          type=\"button\"\r\n                          id=\"button-addon1\"\r\n                          @click=\"upLoadItem(item)\"\r\n                        >\r\n                          <i class=\"bi bi-dash-square\"></i>\r\n                        </button>\r\n                      </div>\r\n                      <input\r\n                        type=\"text\"\r\n                        class=\"\r\n                          form-control\r\n                          border-0\r\n                          text-center\r\n                          my-auto\r\n                          shadow-none\r\n                        \"\r\n                        placeholder=\"\"\r\n                        aria-label=\"Example text with button addon\"\r\n                        aria-describedby=\"button-addon1\"\r\n                        v-model=\"item.qty\"\r\n                      />\r\n                      <div class=\"input-group-append\">\r\n                        <button\r\n                          class=\"btn btn-outline-dark border-0 py-2\"\r\n                          type=\"button\"\r\n                          id=\"button-addon2\"\r\n                          @click=\"upLoadItem(item)\"\r\n                        >\r\n                          <i class=\"bi bi-plus-square\"></i>\r\n                        </button>\r\n                      </div> -->\r\n                      <select\r\n                        class=\"form-select\"\r\n                        v-model=\"item.qty\"\r\n                        @change=\"upLoadItem(item)\"\r\n                        panelHeight=\"100\"\r\n                      >\r\n                        <option v-for=\"(num, i) in 99\" :value=\"num\" :key=\"i\">\r\n                          {{ num }}\r\n                        </option>\r\n                      </select>\r\n                    </div>\r\n                  </td>\r\n                  <td class=\"border-0 align-middle\">\r\n                    <p class=\"mb-0 ms-auto\">NT${{ $filters.numberAddComma(item.total) }}</p>\r\n                  </td>\r\n                  <td class=\"border-0 align-middle\">\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn\"\r\n                      title=\"移除\"\r\n                      @click.prevent=\"delItem(item.id)\"\r\n                    >\r\n                      <i class=\"bi bi-x-lg\"></i>\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </template>\r\n            </tbody>\r\n          </table>\r\n          <div class=\"input-group w-50 mb-3\">\r\n            <div class=\"input-group-append\">\r\n              <button\r\n                class=\"\r\n                  btn btn-outline-dark\r\n                  border-bottom border-top-0 border-start-0 border-end-0\r\n                  rounded-0\r\n                \"\r\n                type=\"button\"\r\n                id=\"button-addon2\"\r\n              >\r\n                <i class=\"fas fa-paper-plane\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <div class=\"border p-4 mb-4\">\r\n            <h4 class=\"fw-bold mb-4\">訂單資訊</h4>\r\n            <table class=\"table text-muted border-bottom\">\r\n              <tbody>\r\n                <template v-for=\"item in carData.carts\" :key=\"item.id\">\r\n                  <tr>\r\n                    <th\r\n                      scope=\"row\"\r\n                      class=\"border-0 px-0 mb-1 font-weight-normal\"\r\n                    >\r\n                      {{ item.product.title }} 共\r\n                      <span class=\"h6\">{{ item.qty }}</span> 件\r\n                    </th>\r\n                    <td class=\"text-end border-0 px-0 mb-1\">\r\n                      NT${{ $filters.numberAddComma(item.total) }}元\r\n                    </td>\r\n                  </tr>\r\n                </template>\r\n              </tbody>\r\n            </table>\r\n            <div class=\"d-flex\">\r\n              <div class=\"col\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"\r\n                    form-control\r\n                    rounded-0\r\n                    border-bottom-0 border-top-0 border-start-0 border-end-0\r\n                    shadow-none\r\n                  \"\r\n                  placeholder=\"請輸入vip888-(6折)\"\r\n                  aria-label=\"Recipient's username\"\r\n                  aria-describedby=\"button-addon2\"\r\n                  v-model=\"code\"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"col-auto align-self-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-primary\"\r\n                  @click.prevent=\"coupon()\"\r\n                >\r\n                  套用\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"d-flex justify-content-between mt-4\">\r\n              <p class=\"mb-0 h5 fw-bold\">總和</p>\r\n              <p class=\"mb-0 h5 fw-bold\">NT${{ $filters.numberAddComma(carData.total)  }}元</p>\r\n            </div>\r\n            <div class=\"mt-2 h5 text-end text-success\" v-if=\"isCoupon\">\r\n              折扣價：NT${{ Math.trunc(carData.final_total) }}元\r\n            </div>\r\n            <router-link to=\"/checkout\" class=\"btn btn-dark w-100 mt-4\"\r\n              >下一步</router-link\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"my-5\">\r\n        <h3 class=\"fw-bold\">Lorem ipsum dolor sit amet</h3>\r\n        <div class=\"swiper-container mt-4 mb-5\">\r\n          <div class=\"swiper-wrapper\">\r\n            <div class=\"swiper-slide\">\r\n              <div\r\n                class=\"card border-0 mb-4 position-relative position-relative\"\r\n              >\r\n                <img\r\n                  src=\"https://images.unsplash.com/photo-1490312278390-ab64016e0aa9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\"\r\n                  class=\"card-img-top rounded-0\"\r\n                  alt=\"...\"\r\n                />\r\n                <a href=\"#\" class=\"text-dark\"> </a>\r\n                <div class=\"card-body p-0\">\r\n                  <h4 class=\"mb-0 mt-3\"><a href=\"#\">Lorem ipsum</a></h4>\r\n                  <p class=\"card-text mb-0\">\r\n                    NT$1,080 <span class=\"text-muted\"><del>NT$1,200</del></span>\r\n                  </p>\r\n                  <p class=\"text-muted mt-3\"></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"swiper-slide\">\r\n              <div\r\n                class=\"card border-0 mb-4 position-relative position-relative\"\r\n              >\r\n                <img\r\n                  src=\"https://images.unsplash.com/photo-1490312278390-ab64016e0aa9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\"\r\n                  class=\"card-img-top rounded-0\"\r\n                  alt=\"...\"\r\n                />\r\n                <a href=\"#\" class=\"text-dark\"> </a>\r\n                <div class=\"card-body p-0\">\r\n                  <h4 class=\"mb-0 mt-3\"><a href=\"#\">Lorem ipsum</a></h4>\r\n                  <p class=\"card-text mb-0\">\r\n                    NT$1,080 <span class=\"text-muted\"><del>NT$1,200</del></span>\r\n                  </p>\r\n                  <p class=\"text-muted mt-3\"></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"swiper-slide\">\r\n              <div\r\n                class=\"card border-0 mb-4 position-relative position-relative\"\r\n              >\r\n                <img\r\n                  src=\"https://images.unsplash.com/photo-1490312278390-ab64016e0aa9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\"\r\n                  class=\"card-img-top rounded-0\"\r\n                  alt=\"...\"\r\n                />\r\n                <a href=\"#\" class=\"text-dark\"> </a>\r\n                <div class=\"card-body p-0\">\r\n                  <h4 class=\"mb-0 mt-3\"><a href=\"#\">Lorem ipsum</a></h4>\r\n                  <p class=\"card-text mb-0\">\r\n                    NT$1,080 <span class=\"text-muted\"><del>NT$1,200</del></span>\r\n                  </p>\r\n                  <p class=\"text-muted mt-3\"></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"swiper-slide\">\r\n              <div\r\n                class=\"card border-0 mb-4 position-relative position-relative\"\r\n              >\r\n                <img\r\n                  src=\"https://images.unsplash.com/photo-1490312278390-ab64016e0aa9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\"\r\n                  class=\"card-img-top rounded-0\"\r\n                  alt=\"...\"\r\n                />\r\n                <a href=\"#\" class=\"text-dark\"> </a>\r\n                <div class=\"card-body p-0\">\r\n                  <h4 class=\"mb-0 mt-3\"><a href=\"#\">Lorem ipsum</a></h4>\r\n                  <p class=\"card-text mb-0\">\r\n                    NT$1,080 <span class=\"text-muted\"><del>NT$1,200</del></span>\r\n                  </p>\r\n                  <p class=\"text-muted mt-3\"></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"swiper-slide\">\r\n              <div\r\n                class=\"card border-0 mb-4 position-relative position-relative\"\r\n              >\r\n                <img\r\n                  src=\"https://images.unsplash.com/photo-1490312278390-ab64016e0aa9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\"\r\n                  class=\"card-img-top rounded-0\"\r\n                  alt=\"...\"\r\n                />\r\n                <a href=\"#\" class=\"text-dark\"> </a>\r\n                <div class=\"card-body p-0\">\r\n                  <h4 class=\"mb-0 mt-3\"><a href=\"#\">Lorem ipsum</a></h4>\r\n                  <p class=\"card-text mb-0\">\r\n                    NT$1,080 <span class=\"text-muted\"><del>NT$1,200</del></span>\r\n                  </p>\r\n                  <p class=\"text-muted mt-3\"></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport Swal from \"sweetalert2\";\r\nimport emitter from \"@/libs/mitter.js\";\r\n\r\n//宣告toast\r\nconst Toast = Swal.mixin({\r\n  toast: true,\r\n  position: \"top-end\",\r\n  showConfirmButton: false,\r\n  timer: 3000,\r\n  timerProgressBar: true,\r\n});\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      carData: [],\r\n      isLoading: false,\r\n      isCoupon: false,\r\n      code: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    getCarList() {\r\n      this.isLoading = true;\r\n      this.$http(\r\n        `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/cart`\r\n      )\r\n        .then((res) => {\r\n          this.carData = res.data.data;\r\n          console.log(this.carData);\r\n          this.isLoading = false;\r\n        })\r\n        .catch((er) => {\r\n          console.log(er);\r\n        });\r\n    },\r\n    upLoadItem(item) {\r\n      this.isLoading = true;\r\n      const data = {\r\n        product_id: item.id,\r\n        qty: item.qty,\r\n      };\r\n\r\n      this.$http\r\n        .put(\r\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/cart/${item.id}`,\r\n          { data }\r\n        )\r\n        .then((res) => {\r\n          console.log(res);\r\n          this.getCarList();\r\n          this.isLoading = false;\r\n\r\n          Toast.fire({\r\n            icon: \"success\",\r\n            showClass: {\r\n              popup: \"animate__animated animate__fadeIn\",\r\n            },\r\n            title: res.data.message,\r\n          });\r\n        })\r\n        .catch((er) => {\r\n          console.log(er);\r\n        });\r\n    },\r\n    delItem(item) {\r\n      this.isLoading = true;\r\n      this.$http\r\n        .delete(\r\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/cart/${item}`\r\n        )\r\n        .then((res) => {\r\n        \r\n          this.isLoading = false;\r\n          emitter.emit('get-cart'); //傳給外面\r\n            this.getCarList();\r\n          Toast.fire({\r\n            icon: \"success\",\r\n            showClass: {\r\n              popup: \"animate__animated animate__fadeIn\",\r\n            },\r\n            title: res.data.message,\r\n          });\r\n        })\r\n        .catch((er) => {\r\n          console.log(er);\r\n        });\r\n    },\r\n    coupon(num) {\r\n      num = this.code;\r\n      console.log(num);\r\n\r\n      let data = {\r\n        code: this.code,\r\n      };\r\n\r\n      this.$http\r\n        .post(\r\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/coupon`,\r\n          { data }\r\n        )\r\n        .then((res) => {\r\n          this.isCoupon = true;\r\n          Toast.fire({\r\n            icon: \"success\",\r\n            showClass: {\r\n              popup: \"animate__animated animate__fadeIn\",\r\n            },\r\n            title: res.data.message,\r\n          });\r\n          this.code = \"\";\r\n\r\n          this.getCarList();\r\n\r\n          // console.log(res.data.data.final_total)\r\n        })\r\n        .catch(() => {\r\n          Toast.fire({\r\n            icon: \"error\",\r\n            showClass: {\r\n              popup: \"animate__animated animate__fadeIn\",\r\n            },\r\n            title: \"無效的優惠碼\",\r\n          });\r\n        });\r\n\r\n      // https://vue3-course-api.hexschool.io/v2/api/kurokawa2021/coupon\r\n      //  this.isCoupon = true;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getCarList();\r\n  },\r\n};\r\n</script>\r\n\r\n","import { render } from \"./cart.vue?vue&type=template&id=2a8f748b\"\nimport script from \"./cart.vue?vue&type=script&lang=js\"\nexport * from \"./cart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\vue-finall-lesson\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}