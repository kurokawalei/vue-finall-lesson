{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.regexp.test.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./src/views/checkout.vue","webpack:///./src/views/checkout.vue?e4c8"],"names":["$","global","call","uncurryThis","isCallable","isObject","DELEGATES_TO_EXEC","execCalled","re","exec","apply","this","arguments","test","Error","un$Test","target","proto","forced","str","result","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","NAME","configurable","get","error","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","stat","keys","it","_createElementVNode","class","for","_createVNode","_component_Loading","active","$data","_hoisted_1","_hoisted_3","_component_Form","onSubmit","$options","ref","errors","_hoisted_8","_component_Field","id","name","type","placeholder","rules","user","email","$event","_component_error_message","_hoisted_10","_hoisted_12","tel","_hoisted_14","address","_hoisted_16","cols","rows","message","disabled","Object","length","_hoisted_18","Toast","Swal","mixin","toast","position","showConfirmButton","timer","timerProgressBar","data","form","isLoading","carData","isCoupon","code","methods","createOrder","obj","$http","post","process","then","res","fire","icon","showClass","popup","title","$refs","resetForm","orderId","$router","push","catch","err","console","log","response","isPhone","value","phoneNumber","mounted","setTimeout","__exports__","render"],"mappings":"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","file":"js/chunk-244d0a93.7dbb2f0d.js","sourcesContent":["'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar call = require('../internals/function-call');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar DELEGATES_TO_EXEC = function () {\n  var execCalled = false;\n  var re = /[ac]/;\n  re.exec = function () {\n    execCalled = true;\n    return /./.exec.apply(this, arguments);\n  };\n  return re.test('abc') === true && execCalled;\n}();\n\nvar Error = global.Error;\nvar un$Test = uncurryThis(/./.test);\n\n// `RegExp.prototype.test` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.test\n$({ target: 'RegExp', proto: true, forced: !DELEGATES_TO_EXEC }, {\n  test: function (str) {\n    var exec = this.exec;\n    if (!isCallable(exec)) return un$Test(this, str);\n    var result = call(exec, this, str);\n    if (result !== null && !isObject(result)) {\n      throw new Error('RegExp exec method returned something other than an Object or null');\n    }\n    return !!result;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <section class=\"cart-images\"></section>\r\n  <div class=\"mt-3\">\r\n    <div class=\"container mt-5 mb-5\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-2\">\r\n          <div class=\"order-step-box\">\r\n            <p>STEP1</p>\r\n            <p>確認商品</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n          <div class=\"order-step-box active\">\r\n            <p>STEP2</p>\r\n            <p>訂購資訊</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n          <div class=\"order-step-box\">\r\n            <p>STEP3</p>\r\n            <p>確認付款</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"container\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-md-8\">\r\n          <Form\r\n            class=\"col-md\"\r\n            v-slot=\"{ errors }\"\r\n            @submit=\"createOrder\"\r\n            ref=\"form\"\r\n          >\r\n            <div class=\"mb-3\">\r\n              <label for=\"email\" class=\"form-label\">Email</label>\r\n              <Field\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': errors['email'] }\"\r\n                placeholder=\"請輸入 Email\"\r\n                rules=\"email|required\"\r\n                v-model=\"form.user.email\"\r\n              ></Field>\r\n              <error-message\r\n                name=\"email\"\r\n                class=\"invalid-feedback\"\r\n              ></error-message>\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n              <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n              <Field\r\n                id=\"name\"\r\n                name=\"姓名\"\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                placeholder=\"請輸入姓名\"\r\n                rules=\"required\"\r\n                v-model=\"form.user.name\"\r\n              ></Field>\r\n              <error-message\r\n                name=\"姓名\"\r\n                class=\"invalid-feedback\"\r\n              ></error-message>\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n              <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n              <Field\r\n                id=\"tel\"\r\n                name=\"電話\"\r\n                type=\"tel\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                placeholder=\"請輸入電話\"\r\n                :rules=\"isPhone\"\r\n                v-model=\"form.user.tel\"\r\n              ></Field>\r\n              <error-message\r\n                name=\"電話\"\r\n                class=\"invalid-feedback\"\r\n              ></error-message>\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n              <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n              <Field\r\n                id=\"address\"\r\n                name=\"地址\"\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                placeholder=\"請輸入地址\"\r\n                rules=\"required\"\r\n                v-model=\"form.user.address\"\r\n              ></Field>\r\n              <error-message\r\n                name=\"地址\"\r\n                class=\"invalid-feedback\"\r\n              ></error-message>\r\n            </div>\r\n\r\n            <div class=\"mb-3\">\r\n              <label for=\"message\" class=\"form-label\">留言</label>\r\n              <textarea\r\n                id=\"message\"\r\n                class=\"form-control\"\r\n                cols=\"30\"\r\n                rows=\"3\"\r\n                v-model=\"form.message\"\r\n              ></textarea>\r\n            </div>\r\n            <div class=\"text-center mt-5 mb-5\">\r\n              <button\r\n                type=\"submit\"\r\n                class=\"btn btn-danger\"\r\n                :disabled=\"Object.keys(errors).length > 0\"\r\n              >\r\n                送出訂單\r\n              </button>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport Swal from \"sweetalert2\";\r\n\r\n//宣告toast\r\nconst Toast = Swal.mixin({\r\n  toast: true,\r\n  position: \"top-end\",\r\n  showConfirmButton: false,\r\n  timer: 3000,\r\n  timerProgressBar: true,\r\n});\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        user: {\r\n          name: \"\",\r\n          email: \"\",\r\n          tel: \"\",\r\n          address: \"\",\r\n        },\r\n        message: \"\",\r\n      },\r\n      isLoading: false,\r\n      carData: [],\r\n      isCoupon: false,\r\n      code: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    createOrder() {\r\n      this.isLoading = true;\r\n      const obj = {\r\n        data: this.form,\r\n      };\r\n      this.$http\r\n        .post(\r\n          `${process.env.VUE_APP_API}/v2/api/${process.env.VUE_APP_PATH}/order`,\r\n          obj\r\n        )\r\n        .then((res) => {\r\n          Toast.fire({\r\n            icon: \"success\",\r\n            showClass: {\r\n              popup: \"animate__animated animate__fadeIn\",\r\n            },\r\n            title: res.data.message,\r\n          });\r\n\r\n          // console.log(res.data)\r\n          this.isLoading = false;\r\n          // 重整表單\r\n          this.$refs.form.resetForm();\r\n          const id = res.data.orderId;\r\n          //推到結帳頁面\r\n          this.$router.push(`/pay/${id}`);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.response.data);\r\n        });\r\n    },\r\n\r\n    // vee-validate 規則\r\n    isPhone(value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/;\r\n      return phoneNumber.test(value) ? true : \"請輸入正確的電話號碼\";\r\n    },\r\n  },\r\n  mounted() {\r\n    this.isLoading = true;\r\n    setTimeout(() => {\r\n      this.isLoading = false;\r\n    }, 1000);\r\n  },\r\n};\r\n</script>","import { render } from \"./checkout.vue?vue&type=template&id=27434b80\"\nimport script from \"./checkout.vue?vue&type=script&lang=js\"\nexport * from \"./checkout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\vue-finall-lesson\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}